(window.webpackJsonp=window.webpackJsonp||[]).push([[47],{339:function(e,t,a){"use strict";a.r(t);a(16);var l=a(287),n={name:"eg-polyline",data:()=>({center:{lat:1.38,lng:103.8},edited:null,path:[{lat:1.33,lng:103.75},{lat:1.43,lng:103.85}],mvcPath:null,errorMessage:null,polylineGeojson:""}),watch:{polylinePath:a.n(l).a.throttle((function(e){e&&(this.path=e,this.polylineGeojson=JSON.stringify({type:"Polyline",coordinates:this.path.map(({lat:e,lng:t})=>[t,e])},null,2))}),1e3)},computed:{polylinePath(){if(!this.mvcPath)return null;let e=[];for(let t=0;t<this.mvcPath.getLength();t++){let a=this.mvcPath.getAt(t);e.push({lat:a.lat(),lng:a.lng()})}return e}},methods:{updateCenter(e){this.center={lat:e.geometry.location.lat(),lng:e.geometry.location.lng()}},updateEdited(e){this.mvcPath=e},handleClickForDelete(e){e.vertex&&this.$refs.polyline.$polylineObject.getPaths().getAt(e.path).removeAt(e.vertex)},readGeojson(e){try{this.polylineGeojson=e.target.value;var t=JSON.parse(e.target.value);this.path=t.coordinates.map(([e,t])=>({lat:t,lng:e})),this.errorMessage=null}catch(e){this.errorMessage=e.message}}}},o=a(15),r=Object(o.a)(n,(function(){var e=this,t=e._self._c;return t("div",[t("label",[e._v("\n    Start at:\n    "),t("gmap-autocomplete",{on:{place_changed:function(t){return e.updateCenter(t)}}})],1),e._v(" "),t("gmap-map",{ref:"map",staticStyle:{width:"100%",height:"500px"},attrs:{center:e.center,zoom:12}},[e.path.length>0?t("gmap-polyline",{ref:"polyline",attrs:{path:e.path,editable:!0},on:{path_changed:function(t){return e.updateEdited(t)},rightclick:e.handleClickForDelete}}):e._e()],1),e._v(" "),t("div",[t("textarea",{staticStyle:{width:"100%",height:"200px"},domProps:{value:e.polylineGeojson},on:{input:e.readGeojson}}),e._v(" "),e.errorMessage?t("div",[e._v(e._s(e.errorMessage))]):e._e()])],1)}),[],!1,null,"0457c3ae",null);t.default=r.exports}}]);